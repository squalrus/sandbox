<!DOCTYPE html>
<html>
<head>
    <title>WebSocket API</title>
</head>
<body>
    <h1>Oh, hai.</h1>

    <script>
        // Create new socket
        var socket = new WebSocket( 'ws://localhost:8080' );
        // has: onopen, onclose, onmessage

        // Open the socket
        socket.onopen = function( event ){

            // Send initial message
            socket.send( 'Client here, and all ears!' );

            // Listen for messages
            socket.onmessage = function( event ){
                console.log( 'Client here; just received message.', event );
            }

            // Listen for socket closes
            socket.onclose = function( event ){
                console.log( 'Client here; socket has closed.', event );
            }
        };
    </script>
</body>
</html>