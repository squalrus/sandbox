<!DOCTYPE html>
<html>
<head>
    <title>Node Stuffs</title>
</head>
<body>
    <hgroup>
        <h1>Welcome.</h1>
        <h3>Your Worker: <%= worker %></h3>
    </hgroup>

    <script src="js/socket.io.js"></script>
    <script>
        // Create SocketIO instance, and connect
        // var socket = new io.Socket( 'localhost', { port: 1337 });
        // socket.connect();
        var socket = io.connect( 'http://localhost', { port: 1337 });

        // Add a connect listener
        socket.on( 'connect', function(){
            console.log( 'Client connected to the server!' );
        });

        // Add a message listener
        socket.on( 'message', function( data ){
            console.log( 'Recieved message from server!', data );
        });

        // Add a disconnect listener
        socket.on( 'disconnect', function(){
            console.log( 'The client has disconnected!' );
        });

        // Add custom listener
        socket.on( 'welcome', function( data ){
            console.log( 'Custom thing:', data.msg );
        })

        // Send message to the server via sockets
        function sendMessageToServer( message ){
            socket.send( message );
        }
    </script>
</body>
</html>